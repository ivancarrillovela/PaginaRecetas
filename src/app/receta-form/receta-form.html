<form [formGroup]="formularioReceta" (ngSubmit)="enviarFormulario()">

  <div class="mb-4">
    <label for="nombre" class="form-label fw-semibold">
      <i class="bi bi-book me-2 text-primary"></i>Nombre de la Receta:
    </label>
    <input type="text" id="nombre" class="form-control form-control-lg border-2" formControlName="nombre"
      placeholder="Ej: Pasta Carbonara">

    @if (nombre?.invalid && (nombre?.dirty || nombre?.touched)) {
    <div class="alert alert-danger alert-sm py-2 mt-2 mb-0" role="alert">
      <i class="bi bi-exclamation-circle me-1"></i>
      @if (nombre?.hasError('required')) { El nombre es obligatorio. }
      @if (nombre?.hasError('minlength')) { El nombre es muy corto (mín. 3 letras). }
    </div>
    }
  </div>

  <div class="mb-4">
    <label for="urlImagen" class="form-label fw-semibold">
      <i class="bi bi-image me-2 text-primary"></i>URL de la Imagen:
    </label>
    <input type="text" id="urlImagen" class="form-control form-control-lg border-2" formControlName="urlImagen"
      placeholder="https://ejemplo.com/imagen.jpg">
    @if (urlImagen?.invalid && (urlImagen?.dirty || urlImagen?.touched)) {
    <div class="alert alert-danger alert-sm py-2 mt-2 mb-0" role="alert">
      <i class="bi bi-exclamation-circle me-1"></i>
      @if (urlImagen?.hasError('required')) {
      La URL de la imagen es obligatoria.
      }
    </div>
    }
  </div>

  <div class="mb-4">
    <label for="ingredientes" class="form-label fw-semibold">
      <i class="bi bi-list-check me-2 text-primary"></i>Ingredientes (uno por línea):
    </label>
    <textarea id="ingredientes" class="form-control border-2" rows="5" formControlName="ingredientes"
      placeholder="Ej: 400g de pasta&#10;200g de jamón&#10;4 huevos"></textarea>
    @if (ingredientes?.invalid && (ingredientes?.dirty || ingredientes?.touched)) {
    <div class="alert alert-danger alert-sm py-2 mt-2 mb-0" role="alert">
      <i class="bi bi-exclamation-circle me-1"></i>
      @if (ingredientes?.hasError('required')) { Los ingredientes son obligatorios. }
      @if (ingredientes?.hasError('minlength')) { Detalla más los ingredientes (mín. 10 caracteres). }
    </div>
    }
  </div>

  <button type="submit" class="btn btn-primary btn-lg w-100 mt-4 fw-semibold" [disabled]="formularioReceta.invalid">
    <i class="bi bi-plus-circle-fill me-2"></i>
    Añadir Receta
  </button>
</form>